!function(){var app=angular.module("weatherAiDemo",["ngRoute","ui.router"]);app.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state("index",{url:"/index",templateUrl:"Client/components/index/indexView.html"}).state("apiAi",{url:"/apiai",templateUrl:"Client/components/apiAi/apiAiView.html",controller:"ApiAiController"}).state("apiaiIntentInfo",{url:"/apiai/intentInfo",templateUrl:"Client/components/apiAi/intentInfoView.html",controller:"ApiAiIntentController"}).state("luis",{url:"/luis",templateUrl:"Client/components/luis/luisView.html"}).state("watson",{url:"/watson",templateUrl:"Client/components/watson/watsonView.html"}).state("about",{url:"/about",templateUrl:"Client/components/about.html"}),$urlRouterProvider.otherwise("/index")}]),app.run(["$rootScope","$state",function($rootScope,$state){$rootScope.$on("$stateChangeStart",function(evt,to,params){to.redirectTo&&(evt.preventDefault(),$state.go(to.redirectTo,params))})}])}();var apiAiController=["$scope","$http",function($scope,$http){$scope.comment="",$scope.chat=[],$scope.sendText=function(){$scope.chat.push({self:!0,msgs:[$scope.comment]}),$http.post("/api/apiai/ask",{question:$scope.comment}).success(function(response){var forecast=response.ForecastResult.current,temperature=forecast.temp_c,realFeeling=forecast.feelslike_c,humidity=forecast.humidity,pressure=forecast.pressure_in;$scope.chat.push({self:!1,msgs:["The temperature is "+temperature+"℃","But feels like "+realFeeling+"℃","Humidity is "+humidity+" and pressure is "+pressure]})}).error(function(response){response&&$scope.chat.push({self:!1,msgs:["There was an error, I asssure you we have the best code monkeys working to sort it out"]})})["catch"](function(err){400===err.status?$scope.chat.push({self:!1,msgs:["I'm sorry, I didn't get that, can you ask in some other way, please"]}):404===err.status&&$scope.chat.push({self:!1,msgs:["I'm sorry, I don't know that place, can you be more specific or ask about somewhere else"]})}),$scope.comment=""}}];angular.module("weatherAiDemo").controller("ApiAiController",apiAiController);var apiAiIntentController=["$scope","$http",function($scope,$http){$http.get("/api/apiai/intents").then(function(response){$scope.intentInfo=response.data},function(response){})}];angular.module("weatherAiDemo").controller("ApiAiIntentController",apiAiIntentController);
//# sourceMappingURL=app.js.map