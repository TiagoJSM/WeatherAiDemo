{"version":3,"sources":["../app.js","../components/apiAi/apiAiController.js"],"names":["app","angular","module","config","$stateProvider","$urlRouterProvider","state","url","templateUrl","controller","otherwise","run","$rootScope","$state","$on","evt","to","params","redirectTo","preventDefault","go","apiAiController","$scope","$http","comment","chat","sendText","push","self","msgs","post","question","then","response","forecast","data","ForecastResult","current","temperature","temp_c","realFeeling","feelslike_c","humidity","pressure","pressure_in"],"mappings":"CAAC,WACG,GAAIA,KAAMC,QAAQC,OAAO,iBAAkB,UAAW,aAEtDF,KAAIG,QAAQ,iBAAkB,qBAAsB,SAAUC,eAAgBC,oBAC1ED,eACKE,MAAM,SACHC,IAAK,SACLC,YAAa,2CAEhBF,MAAM,SACHC,IAAK,SACLC,YAAa,yCACbC,WAAY,oBAEfH,MAAM,QACHC,IAAK,QACLC,YAAa,yCAGhBF,MAAM,UACHC,IAAK,UACLC,YAAa,6CAGhBF,MAAM,SACHC,IAAK,SACLC,YAAa,iCAErBH,mBACKK,UAAU,aAGnBV,IAAIW,KAAK,aAAc,SAAU,SAAUC,WAAYC,QAEnDD,WAAWE,IAAI,oBAAqB,SAAUC,IAAKC,GAAIC,QAC/CD,GAAGE,aACHH,IAAII,iBACJN,OAAOO,GAAGJ,GAAGE,WAAYD,gBCrCzC,IAAII,kBAAmB,SAAU,QAAS,SAAUC,OAAQC,OACxDD,OAAOE,QAAU,GACjBF,OAAOG,QAEPH,OAAOI,SAAW,WACdJ,OAAOG,KAAKE,MACRC,MAAM,EACNC,MAAOP,OAAOE,WAGlBD,MAAMO,KAAK,kBAAoBC,SAAUT,OAAOE,UAC3CQ,KAAK,SAAyBC,UAC3B,GAAIC,UAAWD,SAASE,KAAKC,eAAeC,QACxCC,YAAcJ,SAASK,OACvBC,YAAcN,SAASO,YACvBC,SAAWR,SAASQ,SACpBC,SAAWT,SAASU,WACxBtB,QAAOG,KAAKE,MACRC,MAAM,EACNC,MACI,sBAAwBS,YAAc,IACtC,kBAAoBE,YAAc,IAClC,eAAiBE,SAAW,oBAAsBC,aAG3D,SAAuBV,aAI9BX,OAAOE,QAAU,KAIzBvB,SAAQC,OAAO,iBAAiBO,WAAW,kBAAmBY","file":"app.js","sourcesContent":["(function () {\r\n    var app = angular.module(\"weatherAiDemo\", [\"ngRoute\", \"ui.router\"]);\r\n\r\n    app.config(['$stateProvider', '$urlRouterProvider', function ($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state(\"index\", {\r\n                url: \"/index\",\r\n                templateUrl: \"Client/components/index/indexView.html\"\r\n            })\r\n            .state(\"apiAi\", {\r\n                url: \"/apiai\",\r\n                templateUrl: \"Client/components/apiAi/apiAiView.html\",\r\n                controller: \"ApiAiController\"\r\n            })\r\n            .state(\"luis\", {\r\n                url: \"/luis\",\r\n                templateUrl: \"Client/components/luis/luisView.html\",\r\n                //controller: \"EnterpriseSalesController\"\r\n            })\r\n            .state(\"watson\", {\r\n                url: \"/watson\",\r\n                templateUrl: \"Client/components/watson/watsonView.html\",\r\n                //controller: \"EnterpriseSalesController\"\r\n            })\r\n            .state(\"about\", {\r\n                url: \"/about\",\r\n                templateUrl: \"Client/components/about.html\",\r\n            });\r\n        $urlRouterProvider\r\n            .otherwise(\"/index\");\r\n    }]);\r\n\r\n    app.run(['$rootScope', '$state', function ($rootScope, $state) {\r\n\r\n        $rootScope.$on('$stateChangeStart', function (evt, to, params) {\r\n            if (to.redirectTo) {\r\n                evt.preventDefault();\r\n                $state.go(to.redirectTo, params)\r\n            }\r\n        });\r\n    }]);\r\n}());","var apiAiController = [\"$scope\", \"$http\", function ($scope, $http) {\r\n    $scope.comment = \"\";\r\n    $scope.chat = [];\r\n\r\n    $scope.sendText = function () {\r\n        $scope.chat.push({\r\n            self: true,\r\n            msgs: [$scope.comment]\r\n        });\r\n        \r\n        $http.post(\"/api/apiai/ask\", { question: $scope.comment })\r\n            .then(function successCallback(response) {\r\n                var forecast = response.data.ForecastResult.current;\r\n                var temperature = forecast.temp_c;\r\n                var realFeeling = forecast.feelslike_c;\r\n                var humidity = forecast.humidity;\r\n                var pressure = forecast.pressure_in;\r\n                $scope.chat.push({\r\n                    self: false,\r\n                    msgs: [\r\n                        \"The temperature is \" + temperature + \"℃\",\r\n                        \"But feels like \" + realFeeling + \"℃\",\r\n                        \"Humidity is \" + humidity + \" and pressure is \" + pressure,\r\n                    ]\r\n                });\r\n            }, function errorCallback(response) {\r\n                // called asynchronously if an error occurs\r\n                // or server returns response with an error status.\r\n            });\r\n        $scope.comment = \"\";\r\n    }\r\n}];\r\n\r\nangular.module(\"weatherAiDemo\").controller('ApiAiController', apiAiController);"]}